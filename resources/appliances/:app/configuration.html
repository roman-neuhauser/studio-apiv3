<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.9: http://docutils.sourceforge.net/" />
<title>/appliances/:app/configuration</title>
<link rel="stylesheet" href="../../../style.css" type="text/css" />
</head>
<body>
<div class="document" id="appliances-app-configuration">
<h1 class="title">/appliances/:app/configuration</h1>

<!-- vim: ft=rst sts=2 sw=2 tw=70 -->
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#methods" id="id1">Methods</a><ul>
<li><a class="reference internal" href="#get" id="id2">GET</a></li>
<li><a class="reference internal" href="#patch" id="id3">PATCH</a></li>
<li><a class="reference internal" href="#put" id="id4">PUT</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="methods">
<h1><a class="toc-backref" href="#id1">Methods</a></h1>
<div class="section" id="get">
<h2><a class="toc-backref" href="#id2">GET</a></h2>
<p>Describe configuration of an appliance.</p>
<p>Spec:</p>
<pre class="literal-block">
Accept:
  $CT:appliance-config

Content-Type:
  &amp;Accept
</pre>
<p>Example:</p>
<pre class="literal-block">
&lt; GET /appliances/123/configuration
&lt; Accept: $CT:appliance-config

&gt; 200 Ok
&gt; Content-Type: $CT:appliance-config
&gt;
&gt; {
&gt;   &quot;uri&quot;: &quot;/appliances/123&quot;
&gt; , &quot;name&quot;: &quot;MTA in a Box&quot;
&gt; , &quot;icon&quot;: &quot;/theme/logo/thumbnail/02d3230a1e4c9773cc12fau74982a16d2&quot;
&gt; , &quot;arch&quot;: &quot;x86_64&quot;
&gt; , &quot;tags&quot;: [&quot;openSUSE&quot;, &quot;Postfix&quot;]
&gt; , &quot;locale&quot;: {
&gt;     &quot;keyboard-layout&quot;: &quot;english-us&quot;
&gt;   , &quot;language&quot;: &quot;POSIX&quot;
&gt;   , &quot;timezone&quot;: { &quot;location&quot;: &quot;UTC&quot; }
&gt;   }
&gt; , &quot;network&quot;: { &quot;type&quot;: &quot;dhcp&quot; }
&gt; , &quot;firewall&quot;: {
&gt;     &quot;enabled&quot;: true
&gt;   , open-&quot;ports&quot;: [22, 80, 443]
&gt;   }
&gt; , &quot;based-on&quot;: {
&gt;     &quot;name&quot;: &quot;openSUSE 12.3 Server&quot;
&gt;   , &quot;uri&quot;: &quot;/templates/openSUSE-12.3/Server&quot;
&gt;   }
&gt; , &quot;owner&quot;: {
&gt;     &quot;name&quot;: &quot;Roman Neuhauser&quot;
&gt;   , &quot;icon&quot;: &quot;/a/rJTyNg&quot;
&gt;   , &quot;uri&quot;: &quot;http://...&quot;
&gt;   }
&gt; , &quot;users&quot;: [
&gt;     {
&gt;       &quot;id&quot;: 0
&gt;     , &quot;login&quot;: &quot;root&quot;
&gt;     , &quot;password&quot;: &quot;top secret!&quot;
&gt;     , &quot;shell&quot;: &quot;/bin/sh&quot;
&gt;     , &quot;homedir&quot;: &quot;/root&quot;
&gt;     }
&gt;   , {
&gt;       &quot;id&quot;: 1000
&gt;     , &quot;login&quot;: &quot;mtadmin&quot;
&gt;     , &quot;password&quot;: &quot;top secret!&quot;
&gt;     , &quot;shell&quot;: &quot;/bin/sh&quot;
&gt;     , &quot;homedir&quot;: &quot;/home/mtadmin&quot;
&gt;     }
&gt;   ]
&gt; , &quot;eulas&quot;: []
&gt; , &quot;databases&quot;: {
&gt;     &quot;pgsql&quot;: {
&gt;       &quot;users&quot;: [
&gt;         {
&gt;           &quot;login&quot;: 'postfixdb'
&gt;         , &quot;password&quot;: 'let.me.in'
&gt;         , &quot;databases&quot;: ['postfixdb']
&gt;         }
&gt;       ]
&gt;     }
&gt;   }
&gt; , &quot;autostarts&quot;: [
&gt;     {
&gt;       &quot;command&quot;: &quot;dashboard&quot;
&gt;     , &quot;description&quot;: &quot;Presents overview of the appliance status.&quot;
&gt;     , &quot;enabled&quot;: true
&gt;     , &quot;user&quot;: &quot;mtadmin&quot;
&gt;     }
&gt;   ]
&gt; , &quot;settings&quot;: [
&gt;     &quot;memory_size&quot;: 2048
&gt;   , &quot;disk_size&quot;: 512000
&gt;   , &quot;swap_size&quot;: 4096
&gt;   , &quot;PAE&quot;: false
&gt;   , &quot;Xen_DOM0&quot;: false
&gt;   , &quot;cdrom_enabled&quot;: false
&gt;   , &quot;webyast_enabled&quot;: false
&gt;   , &quot;public_clonable&quot;: true
&gt;   , &quot;runlevel&quot;: 3
&gt;   , &quot;autologin&quot;: &quot;&quot;
&gt;   ]
&gt; , &quot;LVM&quot;: {
&gt;     &quot;enabled&quot;: true
&gt;   , &quot;group&quot;: &quot;mail&quot;
&gt;   , &quot;comprising&quot;: {
&gt;       &quot;/var/mail&quot;: 5242880
&gt;     }
&gt;   }
&gt; , &quot;scripts&quot;: {
&gt;     &quot;autoyast&quot;: {
&gt;       &quot;enabled&quot;: false
&gt;     , &quot;script&quot;: &quot;&quot;
&gt;     }
&gt;   , &quot;boot&quot;: {
&gt;       &quot;enabled&quot;: true
&gt;     , &quot;script&quot;: &quot;#!/bin/sh\necho welcome\nexit 0\n&quot;
&gt;     }
&gt;   , &quot;build&quot;: {
&gt;       &quot;enabled&quot;: false
&gt;     , &quot;script&quot;: &quot;&quot;
&gt;     }
&gt;   }
&gt; , &quot;software&quot;: {
&gt;     &quot;packages&quot;: {
&gt;       &quot;rxvt-unicode&quot;: {
&gt;         &quot;version&quot;: &quot;9.16&quot;,
&gt;       , &quot;from&quot;: &quot;/repositories/openSUSE-12.3-utilities&quot;
&gt;       }
&gt;     }
&gt;   , &quot;patterns&quot;: {
&gt;       &quot;base&quot;: {
&gt;         &quot;from&quot;: &quot;/repositories/openSUSE-12.3-oss&quot;
&gt;       }
&gt;     , &quot;mail_server&quot;: {
&gt;         &quot;from&quot;: &quot;/repositories/openSUSE-12.3-oss&quot;
&gt;       }
&gt;     }
&gt;   , &quot;repositories&quot;: [
&gt;       {
&gt;         uri: &quot;/repositories/openSUSE-12.3-utilites&quot;
&gt;       , name: &quot;openSUSE-12.3-utilities&quot;
&gt;       , trusted: yes
&gt;       }
&gt;     ]
&gt;   }
&gt; }
</pre>
</div>
<div class="section" id="patch">
<h2><a class="toc-backref" href="#id3">PATCH</a></h2>
<p>Modify the configuration of an appliance.</p>
<p>Spec:</p>
<pre class="literal-block">
Content-Type:
  $CT:appliance-config-patch
Accept:
  $CT:appliance-config

Status:
  200 Ok
| 412 Precondition Failed
Content-Type:
  &amp;Accept
</pre>
<p>Example:</p>
<pre class="literal-block">
&lt; PATCH /appliances/123/configuration
&lt; Content-Type: $CT:appliance-config-patch
&lt; Accept: $CT:appliance-config
&lt;
&lt; [
&lt;   { &quot;op&quot;: &quot;replace&quot;
&lt;   , &quot;path&quot;: &quot;/network/type&quot;
&lt;   , &quot;value&quot;: &quot;ask_on_first_boot&quot;
&lt;   }
&lt; ]

&gt; 200 Ok
&gt; Content-Type: $CT:appliance-config
&gt;
&gt; {
&gt;   &quot;uri&quot;: &quot;/appliances/123&quot;
&gt; , &quot;name&quot;: &quot;MTA in a Box&quot;
&gt; , &quot;icon&quot;: &quot;/theme/logo/thumbnail/02d3230a1e4c9773cc12fau74982a16d2&quot;
&gt; , &quot;arch&quot;: &quot;x86_64&quot;
&gt; , &quot;tags&quot;: [&quot;openSUSE&quot;, &quot;Postfix&quot;]
&gt; , &quot;locale&quot;: {
&gt;     &quot;keyboard-layout&quot;: &quot;english-us&quot;
&gt;   , &quot;language&quot;: &quot;POSIX&quot;
&gt;   , &quot;timezone&quot;: { &quot;location&quot;: &quot;UTC&quot; }
&gt;   }
&gt; , &quot;network&quot;: { &quot;type&quot;: &quot;ask_on_first_boot&quot; }
&gt; ...
</pre>
</div>
<div class="section" id="put">
<h2><a class="toc-backref" href="#id4">PUT</a></h2>
<p>Set configuration of an appliance.</p>
<p>Spec:</p>
<pre class="literal-block">
Accept:
  $CT:appliance-config
Content-Type:
  $CT:appliance-config

Status:
  200 Ok
Content-Type:
  &amp;Accept
</pre>
<p>Example:</p>
<pre class="literal-block">
&lt; PUT /appliances/123/configuration
&lt; Accept: $CT:appliance-config
&lt; Content-Type: $CT:appliance-config
&lt;
&lt; ...

&gt; 200 Ok
&gt; Content-Type: $CT:appliance-config
&gt;
&gt; ...
</pre>
</div>
</div>
</div>
</body>
</html>
